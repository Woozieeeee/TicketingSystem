{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Joseph/Documents/trae_projects/TicketingSystem/client/src/components/Navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\n\ninterface NavbarProps {\n  user: {\n    username: string;\n    role: string;\n    dept: string;\n  } | null;\n}\n\nexport default function Navbar({ user }: NavbarProps) {\n  const router = useRouter();\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\");\n    router.push(\"/login\");\n  };\n\n  return (\n    <nav className=\"bg-white shadow-md border-b border-gray-200 px-6 py-4 flex justify-between items-center relative\">\n      {/* Logo / Title */}\n      <div className=\"flex items-center\">\n        <h1\n          className=\"text-xl font-bold text-gray-800 tracking-tight cursor-pointer\"\n          onClick={() => router.push(\"/dashboard\")}\n        >\n          Ticketing System\n        </h1>\n      </div>\n\n      {/* Navigation Links */}\n      {user && (\n        <div className=\"absolute left-1/2 transform -translate-x-1/2 flex items-center space-x-4\">\n          <button\n            onClick={() => router.push(\"/dashboard\")}\n            className=\"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-large transition-colors\"\n          >\n            Dashboard\n          </button>\n          <button\n            onClick={() => router.push(\"/tickets\")}\n            className=\"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-large transition-colors\"\n          >\n            Tickets\n          </button>\n        </div>\n      )}\n\n      {/* User Info & Logout */}\n      {user && (\n        <div className=\"flex items-center space-x-6\">\n          <div className=\"text-right hidden sm:block\">\n            <p className=\"text-sm font-medium text-gray-900\">{user.username}</p>\n            <p className=\"text-xs text-gray-500\">{user.dept}</p>\n          </div>\n\n          <button\n            onClick={handleLogout}\n            className=\"w-[100px] h-[40px] flex items-center justify-center text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 border border-red-200 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n          >\n            Logout\n          </button>\n        </div>\n      )}\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYe,SAAS,OAAO,EAAE,IAAI,EAAe;IAClD,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAU;oBACV,SAAS,IAAM,OAAO,IAAI,CAAC;8BAC5B;;;;;;;;;;;YAMF,sBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAU;kCACX;;;;;;kCAGD,8OAAC;wBACC,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAU;kCACX;;;;;;;;;;;;YAOJ,sBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAqC,KAAK,QAAQ;;;;;;0CAC/D,8OAAC;gCAAE,WAAU;0CAAyB,KAAK,IAAI;;;;;;;;;;;;kCAGjD,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Joseph/Documents/trae_projects/TicketingSystem/client/src/app/login/page.tsx"],"sourcesContent":["\"use client\"; // Marks as Client Component\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport Navbar from \"../../components/Navbar\";\nimport Swal from \"sweetalert2\";\n\nexport default function Login() {\n  // State: Login credentials\n  const [form, setForm] = useState({ username: \"\", password: \"\" });\n  // State: Loading status\n  const [loading, setLoading] = useState(false);\n\n  const router = useRouter();\n\n  // Function para sa pag-login\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault(); // Huwag muna nating i-refresh 'yung page\n    setLoading(true); // Pakita muna nating naglo-load na\n\n    try {\n      // Send natin 'yung login details sa server\n      const res = await fetch(\"http://localhost:3001/api/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(form),\n      });\n\n      if (res.ok) {\n        // Pag pumasok, kunin natin 'yung user data\n        const user = await res.json();\n\n        // I-save muna natin sa browser para hindi na kailangan mag-login ulit\n        localStorage.setItem(\"user\", JSON.stringify(user));\n\n        // Magpakita ng success message gamit ang SweetAlert2\n        await Swal.fire({\n          icon: \"success\",\n          title: \"Login Successful!\",\n          text: `Welcome back, ${user.username}!`,\n          timer: 2000,\n          showConfirmButton: false,\n        });\n\n        // Lipat na tayo sa Dashboard!\n        router.push(\"/dashboard\");\n      } else {\n        // Pag mali 'yung info, sabihan natin si user\n        const data = await res.json().catch(() => ({}));\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: data.message || \"Invalid credentials\",\n        });\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Connection Error\",\n        text: \"Failed to connect to server\",\n      });\n    } finally {\n      setLoading(false); // Tapos na 'yung loading, pwede na ulit mag-click\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar user={null} />\n      <div className=\"max-w-md mx-auto mt-20 p-8 bg-white rounded-2xl shadow-sm border border-gray-100\">\n        <h1 className=\"text-2xl font-bold text-center text-gray-900 mb-8\">\n          Login\n        </h1>\n        <form onSubmit={handleLogin} className=\"space-y-6\">\n          {/* Username Field */}\n          <div>\n            <label\n              htmlFor=\"username\"\n              className=\"block text-sm font-bold text-gray-700 mb-2\"\n            >\n              Username\n            </label>\n            <input\n              id=\"username\"\n              value={form.username}\n              onChange={(e) => setForm({ ...form, username: e.target.value })}\n              className=\"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 transition-all outline-none\"\n              required\n            />\n          </div>\n\n          {/* Password Field */}\n          <div>\n            <label\n              htmlFor=\"password\"\n              className=\"block text-sm font-bold text-gray-700 mb-2\"\n            >\n              Password\n            </label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={form.password}\n              onChange={(e) => setForm({ ...form, password: e.target.value })}\n              className=\"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 transition-all outline-none\"\n              required\n            />\n          </div>\n\n          {/* Submit Button */}\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className={`w-full py-4 rounded-xl text-white font-bold transition-all shadow-lg active:scale-95 ${\n              loading\n                ? \"bg-gray-400 cursor-not-allowed\"\n                : \"bg-blue-600 hover:bg-blue-700\"\n            }`}\n          >\n            {loading ? \"Logging in...\" : \"Login\"}\n          </button>\n\n          {/* Register Link */}\n          <Link\n            href=\"/register\"\n            className=\"block w-full py-3 text-center text-gray-500 hover:text-gray-900 font-medium transition-colors text-sm\"\n          >\n            Create a new account\n          </Link>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA,cAAc,4BAA4B;;;;;;;AAQ3B,SAAS;IACtB,2BAA2B;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;QAAE,UAAU;QAAI,UAAU;IAAG;IAC9D,wBAAwB;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,SAAS,IAAA,+IAAS;IAExB,6BAA6B;IAC7B,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc,IAAI,yCAAyC;QAC7D,WAAW,OAAO,mCAAmC;QAErD,IAAI;YACF,2CAA2C;YAC3C,MAAM,MAAM,MAAM,MAAM,mCAAmC;gBACzD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,IAAI,EAAE,EAAE;gBACV,2CAA2C;gBAC3C,MAAM,OAAO,MAAM,IAAI,IAAI;gBAE3B,sEAAsE;gBACtE,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;gBAE5C,qDAAqD;gBACrD,MAAM,2KAAI,CAAC,IAAI,CAAC;oBACd,MAAM;oBACN,OAAO;oBACP,MAAM,CAAC,cAAc,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC;oBACvC,OAAO;oBACP,mBAAmB;gBACrB;gBAEA,8BAA8B;gBAC9B,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,6CAA6C;gBAC7C,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC7C,2KAAI,CAAC,IAAI,CAAC;oBACR,MAAM;oBACN,OAAO;oBACP,MAAM,KAAK,OAAO,IAAI;gBACxB;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,2KAAI,CAAC,IAAI,CAAC;gBACR,MAAM;gBACN,OAAO;gBACP,MAAM;YACR;QACF,SAAU;YACR,WAAW,QAAQ,kDAAkD;QACvE;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,uIAAM;gBAAC,MAAM;;;;;;0BACd,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAGlE,8OAAC;wBAAK,UAAU;wBAAa,WAAU;;0CAErC,8OAAC;;kDACC,8OAAC;wCACC,SAAQ;wCACR,WAAU;kDACX;;;;;;kDAGD,8OAAC;wCACC,IAAG;wCACH,OAAO,KAAK,QAAQ;wCACpB,UAAU,CAAC,IAAM,QAAQ;gDAAE,GAAG,IAAI;gDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAC7D,WAAU;wCACV,QAAQ;;;;;;;;;;;;0CAKZ,8OAAC;;kDACC,8OAAC;wCACC,SAAQ;wCACR,WAAU;kDACX;;;;;;kDAGD,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,OAAO,KAAK,QAAQ;wCACpB,UAAU,CAAC,IAAM,QAAQ;gDAAE,GAAG,IAAI;gDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAC7D,WAAU;wCACV,QAAQ;;;;;;;;;;;;0CAKZ,8OAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAW,CAAC,qFAAqF,EAC/F,UACI,mCACA,iCACJ;0CAED,UAAU,kBAAkB;;;;;;0CAI/B,8OAAC,uKAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AAOX"}}]
}